import numpy as np
import matplotlib.pyplot as plt

# 例としてのCSIデータ（虚数部と実数部が交互に入っている）
# ここで、csi_data をあなたのデータに置き換えてください
csi_data = [44,-64,2,0,-21,-4,-18,-3,-16,-4,-15,-4,-14,-4,-12,-4,-10,-4,-8,-4,-8,-4,-8,-5,-8,-6,-8,-6,-7,-8,-6,-10,-5,-11,-4,-12,-2,-14,-1,-15,1,-15,2,-15,2,-15,3,-16,4,-16,6,-16,8,-16,2,-4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-5,-2,-18,-7,-19,-9,-19,-10,-20,-11,-22,-14,-22,-17,-22,-19,-22,-20,-21,-20,-22,-19,-24,-18,-25,-18,-25,-17,-26,-16,-26,-15,-27,-14,-27,-13,-27,-12,-28,-12,-29,-12,-28,-11,-27,-9,-27,-8,-28,-6,-27,-4,-27,-5,-13,-9,-34,-24,-32,-24,-29,-22,-25,-20,-22,-18,-19,-16,-17,-14,-15,-13,-14,-13,-12,-13,-11,-14,-8,-15,-7,-17,-4,-18,-2,-20,0,-22,3,-24,5,-26,8,-27,10,-27,12,-27,16,-26,18,-24,21,-23,24,-21,26,-18,29,-15,30,-13,11,-4,3,-1,-1,0,1,1,0,1,-4,-2,-10,-8,-26,-21,-25,-24,-25,-27,-24,-31,-23,-34,-23,-38,-23,-42,-24,-46,-23,-49,-23,-51,-21,-52,-21,-53,-21,-54,-22,-54,-25,-53,-28,-52,-30,-49,-32,-48,-35,-46,-37,-45,-39,-43,-40,-41,-41,-38,-40,-36,-39,-34,-39,-33,-39,-33,-39,-33]
# 虚数部と実数部を分離して複素数を再構成
complex_data = [complex(csi_data[i], csi_data[i+1]) for i in range(0, len(csi_data), 2)]

# 振幅と位相を計算
amplitude = np.abs(complex_data)
phase = np.angle(complex_data)

# サブキャリアの数を計算
subcarriers = np.arange(len(complex_data))

# 振幅のプロット
plt.figure(figsize=(12, 6))
plt.subplot(2, 1, 1)
plt.plot(subcarriers, amplitude, marker='o')
plt.title('Subcarriers vs Amplitude')
plt.xlabel('Subcarriers')
plt.ylabel('Amplitude')
plt.grid(True)

# 位相のプロット
plt.subplot(2, 1, 2)
plt.plot(subcarriers, phase, marker='o')
plt.title('Subcarriers vs Phase')
plt.xlabel('Subcarriers')
plt.ylabel('Phase (radians)')
plt.grid(True)

# プロットの表示
plt.tight_layout()
plt.show()
